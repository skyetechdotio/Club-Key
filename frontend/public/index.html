<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Linx - Golf Tee Time Marketplace</title>
  <meta name="description" content="Book exclusive golf tee times from club members or host your own as a member.">
  
  <!-- Open Graph tags for social sharing -->
  <meta property="og:title" content="Linx - Golf Tee Time Marketplace">
  <meta property="og:description" content="Book exclusive golf tee times from club members or host your own as a member.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://linx-golf.com">
  
  <!-- Favicon -->
  <link rel="icon" href="/favicon.ico">
  
  <!-- Alpine.js -->
  <script defer src="https://unpkg.com/alpinejs@3.12.0/dist/cdn.min.js"></script>
  
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-storage-compat.js"></script>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              DEFAULT: '#205A50',
              50: '#F2F7F6',
              100: '#E5EFED',
              200: '#C0DAD5',
              300: '#9BC5BC',
              400: '#76AFA3',
              500: '#51998A',
              600: '#3D7469',
              700: '#295048',
              800: '#142B27',
              900: '#000000',
            },
            secondary: {
              DEFAULT: '#49DCB1',
              50: '#F1FBF8',
              100: '#E3F8F1',
              200: '#C7F1E2',
              300: '#ABEBD3',
              400: '#8FE4C4',
              500: '#73DDB5',
              600: '#57D6A6',
              700: '#3BCF97',
              800: '#2CB883',
              900: '#23A173',
            }
          },
          fontFamily: {
            sans: ['Inter', 'ui-sans-serif', 'system-ui', 'sans-serif'],
            heading: ['Sora', 'ui-sans-serif', 'system-ui', 'sans-serif'],
          }
        }
      }
    }
  </script>
  <style>
    [x-cloak] { display: none !important; }
  </style>
  
  <!-- Custom styles -->
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body class="bg-gray-50 min-h-screen">
  <!-- App shell with state management -->
  <div x-data="app()" x-cloak>
    <!-- Navbar -->
    <nav class="bg-white shadow-sm">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <div class="flex">
            <div class="flex-shrink-0 flex items-center">
              <a href="/" class="text-primary-600 font-heading font-bold text-2xl">Linx</a>
            </div>
            <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
              <a href="/" 
                 class="border-transparent text-gray-500 hover:border-primary-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"
                 :class="{'border-primary-500 text-gray-900': currentRoute === '/'}">
                Home
              </a>
              <a href="/tee-times" 
                 class="border-transparent text-gray-500 hover:border-primary-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"
                 :class="{'border-primary-500 text-gray-900': currentRoute === '/tee-times'}">
                Tee Times
              </a>
              <template x-if="user && user.isHost">
                <a href="/host" 
                   class="border-transparent text-gray-500 hover:border-primary-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"
                   :class="{'border-primary-500 text-gray-900': currentRoute === '/host'}">
                  Host Dashboard
                </a>
              </template>
            </div>
          </div>
          <div class="hidden sm:ml-6 sm:flex sm:items-center">
            <template x-if="!user">
              <div class="flex space-x-4">
                <button @click="openAuthModal('login')" class="text-primary-600 hover:text-primary-500 font-medium">Log in</button>
                <button @click="openAuthModal('register')" class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md font-medium">Sign up</button>
              </div>
            </template>
            <template x-if="user">
              <div class="relative">
                <div>
                  <button @click="userMenuOpen = !userMenuOpen" class="flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                    <template x-if="user.profileImage">
                      <img class="h-8 w-8 rounded-full object-cover" :src="user.profileImage" alt="User profile">
                    </template>
                    <template x-if="!user.profileImage">
                      <div class="h-8 w-8 rounded-full bg-primary-500 flex items-center justify-center text-white font-medium">
                        <span x-text="user.firstName ? user.firstName.charAt(0) : (user.email ? user.email.charAt(0).toUpperCase() : 'U')"></span>
                      </div>
                    </template>
                  </button>
                </div>
                <div x-show="userMenuOpen" 
                     @click.away="userMenuOpen = false"
                     x-transition:enter="transition ease-out duration-100" 
                     x-transition:enter-start="transform opacity-0 scale-95" 
                     x-transition:enter-end="transform opacity-100 scale-100" 
                     x-transition:leave="transition ease-in duration-75" 
                     x-transition:leave-start="transform opacity-100 scale-100" 
                     x-transition:leave-end="transform opacity-0 scale-95"
                     class="origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10">
                  <a href="/profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Profile</a>
                  <a href="/bookings" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">My Bookings</a>
                  <button @click="logout" class="w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Sign out</button>
                </div>
              </div>
            </template>
          </div>
          <div class="flex items-center sm:hidden">
            <!-- Mobile menu button -->
            <button @click="mobileMenuOpen = !mobileMenuOpen" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500">
              <svg class="h-6 w-6" x-show="!mobileMenuOpen" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
              <svg class="h-6 w-6" x-show="mobileMenuOpen" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>
        </div>
      </div>
      
      <!-- Mobile menu -->
      <div x-show="mobileMenuOpen" class="sm:hidden">
        <div class="pt-2 pb-3 space-y-1">
          <a href="/" 
             class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
             :class="{'bg-primary-50 border-primary-500 text-primary-700': currentRoute === '/', 'border-transparent': currentRoute !== '/'}">
            Home
          </a>
          <a href="/tee-times" 
             class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
             :class="{'bg-primary-50 border-primary-500 text-primary-700': currentRoute === '/tee-times', 'border-transparent': currentRoute !== '/tee-times'}">
            Tee Times
          </a>
          <template x-if="user && user.isHost">
            <a href="/host" 
               class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
               :class="{'bg-primary-50 border-primary-500 text-primary-700': currentRoute === '/host', 'border-transparent': currentRoute !== '/host'}">
              Host Dashboard
            </a>
          </template>
        </div>
        <div class="pt-4 pb-3 border-t border-gray-200">
          <template x-if="!user">
            <div class="flex space-x-4 px-4">
              <button @click="openAuthModal('login')" class="text-primary-600 hover:text-primary-500 font-medium">Log in</button>
              <button @click="openAuthModal('register')" class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md font-medium">Sign up</button>
            </div>
          </template>
          <template x-if="user">
            <div>
              <div class="flex items-center px-4">
                <div class="flex-shrink-0">
                  <template x-if="user.profileImage">
                    <img class="h-10 w-10 rounded-full object-cover" :src="user.profileImage" alt="User profile">
                  </template>
                  <template x-if="!user.profileImage">
                    <div class="h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center text-white font-medium">
                      <span x-text="user.firstName ? user.firstName.charAt(0) : (user.email ? user.email.charAt(0).toUpperCase() : 'U')"></span>
                    </div>
                  </template>
                </div>
                <div class="ml-3">
                  <div class="text-base font-medium text-gray-800" x-text="user.firstName ? `${user.firstName} ${user.lastName || ''}` : user.email"></div>
                  <div class="text-sm font-medium text-gray-500" x-text="user.email"></div>
                </div>
              </div>
              <div class="mt-3 space-y-1">
                <a href="/profile" class="block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100">Profile</a>
                <a href="/bookings" class="block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100">My Bookings</a>
                <button @click="logout" class="w-full text-left block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100">Sign out</button>
              </div>
            </div>
          </template>
        </div>
      </div>
    </nav>
    
    <!-- Authentication modal -->
    <div x-show="authModalOpen" class="fixed z-10 inset-0 overflow-y-auto" x-cloak>
      <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
        <div x-show="authModalOpen" 
             x-transition:enter="ease-out duration-300" 
             x-transition:enter-start="opacity-0" 
             x-transition:enter-end="opacity-100" 
             x-transition:leave="ease-in duration-200" 
             x-transition:leave-start="opacity-100" 
             x-transition:leave-end="opacity-0"
             class="fixed inset-0 transition-opacity" @click="authModalOpen = false">
          <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
        </div>
        
        <div x-show="authModalOpen" 
             x-transition:enter="ease-out duration-300" 
             x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" 
             x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100" 
             x-transition:leave="ease-in duration-200" 
             x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100" 
             x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
             class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
          <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
            <div class="sm:flex sm:items-start">
              <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                <h3 class="text-lg leading-6 font-medium text-gray-900" x-text="authMode === 'login' ? 'Sign in to your account' : 'Create a new account'"></h3>
                <div class="mt-2">
                  <div x-show="authError" class="bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded relative mb-4" role="alert">
                    <span class="block sm:inline" x-text="authError"></span>
                  </div>
                  
                  <form @submit.prevent="authMode === 'login' ? login() : register()">
                    <template x-if="authMode === 'register'">
                      <div class="grid grid-cols-2 gap-4">
                        <div class="col-span-1">
                          <label for="firstName" class="block text-sm font-medium text-gray-700">First name</label>
                          <input type="text" id="firstName" x-model="registerForm.firstName" class="mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                        </div>
                        <div class="col-span-1">
                          <label for="lastName" class="block text-sm font-medium text-gray-700">Last name</label>
                          <input type="text" id="lastName" x-model="registerForm.lastName" class="mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                        </div>
                      </div>
                    </template>
                    
                    <div class="mt-4">
                      <label for="email" class="block text-sm font-medium text-gray-700">Email address</label>
                      <input type="email" id="email" x-model="authMode === 'login' ? loginForm.email : registerForm.email" class="mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                    </div>
                    
                    <div class="mt-4">
                      <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
                      <input type="password" id="password" x-model="authMode === 'login' ? loginForm.password : registerForm.password" class="mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                    </div>
                    
                    <template x-if="authMode === 'register'">
                      <div class="mt-4">
                        <label for="confirmPassword" class="block text-sm font-medium text-gray-700">Confirm password</label>
                        <input type="password" id="confirmPassword" x-model="registerForm.confirmPassword" class="mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                      </div>
                    </template>
                    
                    <div class="mt-6">
                      <button type="submit" class="w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500" x-text="authMode === 'login' ? 'Sign in' : 'Sign up'" :disabled="loading"></button>
                    </div>
                  </form>
                  
                  <div class="mt-4">
                    <div class="relative">
                      <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-300"></div>
                      </div>
                      <div class="relative flex justify-center text-sm">
                        <span class="px-2 bg-white text-gray-500">Or continue with</span>
                      </div>
                    </div>
                    
                    <div class="mt-6">
                      <button type="button" @click="signInWithGoogle" class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                        <svg class="h-5 w-5 mr-2" viewBox="0 0 24 24" width="24" height="24">
                          <g transform="matrix(1, 0, 0, 1, 27.009001, -39.238998)">
                            <path fill="#4285F4" d="M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"/>
                            <path fill="#34A853" d="M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"/>
                            <path fill="#FBBC05" d="M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"/>
                            <path fill="#EA4335" d="M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"/>
                          </g>
                        </svg>
                        <span>Google</span>
                      </button>
                    </div>
                  </div>
                  
                  <div class="mt-4 text-center">
                    <button type="button" @click="toggleAuthMode" class="text-sm text-primary-600 hover:text-primary-500">
                      <span x-text="authMode === 'login' ? 'Don\'t have an account? Sign up' : 'Already have an account? Sign in'"></span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Main content -->
    <main id="app-content">
      <!-- Home page content -->
      <div x-show="currentRoute === '/'">
        <!-- Hero section -->
        <div class="relative bg-white">
          <div class="max-w-7xl mx-auto">
            <div class="relative z-10 pb-8 bg-white sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32">
              <main class="mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 lg:mt-16 lg:px-8 xl:mt-20">
                <div class="sm:text-center lg:text-left">
                  <h1 class="text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl">
                    <span class="block font-heading">Your access to</span>
                    <span class="block text-primary-600 font-heading">exclusive tee times</span>
                  </h1>
                  <p class="mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0">
                    Book tee times directly from club members or host your own as a member. Linx connects golf enthusiasts with exclusive club access.
                  </p>
                  <div class="mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start">
                    <div class="rounded-md shadow">
                      <a href="/tee-times" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 md:py-4 md:text-lg md:px-10">
                        Find tee times
                      </a>
                    </div>
                    <template x-if="user && user.isHost">
                      <div class="mt-3 sm:mt-0 sm:ml-3">
                        <a href="/host" class="w-full flex items-center justify-center px-8 py-3 border border-primary-300 text-base font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200 md:py-4 md:text-lg md:px-10">
                          Host dashboard
                        </a>
                      </div>
                    </template>
                    <template x-if="user && !user.isHost">
                      <div class="mt-3 sm:mt-0 sm:ml-3">
                        <a href="/profile" class="w-full flex items-center justify-center px-8 py-3 border border-primary-300 text-base font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200 md:py-4 md:text-lg md:px-10">
                          Become a host
                        </a>
                      </div>
                    </template>
                    <template x-if="!user">
                      <div class="mt-3 sm:mt-0 sm:ml-3">
                        <button @click="openAuthModal('register')" class="w-full flex items-center justify-center px-8 py-3 border border-primary-300 text-base font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200 md:py-4 md:text-lg md:px-10">
                          Sign up now
                        </button>
                      </div>
                    </template>
                  </div>
                </div>
              </main>
            </div>
          </div>
          <div class="lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2">
            <img class="h-56 w-full object-cover sm:h-72 md:h-96 lg:w-full lg:h-full" src="/images/golf-hero.jpg" alt="Golf course">
          </div>
        </div>
        
        <!-- Featured tee times section -->
        <div class="bg-white py-12">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="lg:text-center">
              <h2 class="text-base text-primary-600 font-semibold tracking-wide uppercase">Featured</h2>
              <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl font-heading">
                Exclusive tee times
              </p>
              <p class="mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto">
                Browse our selection of premium tee times at top golf clubs
              </p>
            </div>
            
            <div class="mt-10">
              <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3" x-data="{ featuredTeeTimeListings: [] }" x-init="fetchFeaturedTeeTimeListings()">
                <template x-for="listing in featuredTeeTimeListings" :key="listing.id">
                  <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="relative pb-2/3">
                      <img class="absolute h-full w-full object-cover" :src="listing.club?.imageUrl || '/images/default-club.jpg'" alt="Golf club">
                    </div>
                    <div class="px-4 py-5 sm:p-6">
                      <h3 class="text-lg leading-6 font-medium text-gray-900" x-text="listing.club?.name || 'Golf Club'"></h3>
                      <p class="mt-1 text-sm text-gray-500" x-text="listing.club?.location || 'Location'"></p>
                      <p class="mt-3 text-sm text-gray-500">
                        <span x-text="new Date(listing.date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })"></span> at 
                        <span x-text="new Date(listing.date).toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' })"></span>
                      </p>
                      <div class="mt-4 flex items-center justify-between">
                        <span class="text-primary-600 font-medium">$<span x-text="listing.price"></span></span>
                        <div class="flex items-center">
                          <svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                          </svg>
                          <span class="ml-1 text-sm text-gray-500"><span x-text="listing.hostRating.toFixed(1)"></span> (<span x-text="listing.reviewCount"></span>)</span>
                        </div>
                      </div>
                      <div class="mt-5">
                        <a :href="'/tee-times/' + listing._id" class="block w-full text-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700">
                          Book now
                        </a>
                      </div>
                    </div>
                  </div>
                </template>
              </div>
              
              <div class="mt-10 text-center">
                <a href="/tee-times" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200">
                  View all tee times
                  <svg class="ml-2 -mr-1 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Features section -->
        <div class="bg-gray-50 py-12">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="lg:text-center">
              <h2 class="text-base text-primary-600 font-semibold tracking-wide uppercase">Benefits</h2>
              <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl font-heading">
                Why use Linx?
              </p>
              <p class="mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto">
                Join our community of golf enthusiasts and enjoy these benefits
              </p>
            </div>
            
            <div class="mt-10">
              <div class="space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-10">
                <div class="flex">
                  <div class="flex-shrink-0">
                    <div class="flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white">
                      <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                      </svg>
                    </div>
                  </div>
                  <div class="ml-4">
                    <h3 class="text-lg leading-6 font-medium text-gray-900">Access exclusive clubs</h3>
                    <p class="mt-2 text-base text-gray-500">
                      Book tee times at private clubs that would otherwise be inaccessible to non-members
                    </p>
                  </div>
                </div>
                
                <div class="flex">
                  <div class="flex-shrink-0">
                    <div class="flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white">
                      <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                    </div>
                  </div>
                  <div class="ml-4">
                    <h3 class="text-lg leading-6 font-medium text-gray-900">Monetize your membership</h3>
                    <p class="mt-2 text-base text-gray-500">
                      Club members can earn money by hosting guests during their allocated tee times
                    </p>
                  </div>
                </div>
                
                <div class="flex">
                  <div class="flex-shrink-0">
                    <div class="flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white">
                      <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                      </svg>
                    </div>
                  </div>
                  <div class="ml-4">
                    <h3 class="text-lg leading-6 font-medium text-gray-900">Secure payments</h3>
                    <p class="mt-2 text-base text-gray-500">
                      All bookings are securely processed with payments held in escrow until your tee time is completed
                    </p>
                  </div>
                </div>
                
                <div class="flex">
                  <div class="flex-shrink-0">
                    <div class="flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white">
                      <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                    </div>
                  </div>
                  <div class="ml-4">
                    <h3 class="text-lg leading-6 font-medium text-gray-900">Verified reviews</h3>
                    <p class="mt-2 text-base text-gray-500">
                      Our review system ensures quality experiences for both hosts and guests
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Profile Page -->
      <div x-show="currentRoute === '/profile'" x-data="profilePage" data-route="/profile">
        <div class="bg-white">
          <div class="max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8">
            <!-- Loading state -->
            <div x-show="isLoading" class="flex justify-center">
              <div class="spinner"></div>
            </div>
            
            <!-- Error state -->
            <div x-show="hasError" class="alert alert-error">
              <p x-text="errorMessage || 'Failed to load profile'"></p>
              <button @click="fetchUserProfile()" class="mt-2 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                Try Again
              </button>
            </div>
            
            <!-- Profile content -->
            <div x-show="!isLoading && !hasError && user">
              <div class="lg:grid lg:grid-cols-12 lg:gap-x-12">
                <!-- Sidebar -->
                <div class="lg:col-span-3">
                  <nav class="space-y-1">
                    <button @click="setActiveTab('profile')" class="w-full text-left px-4 py-2 rounded-md" :class="activeTab === 'profile' ? 'bg-primary-50 text-primary-700' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'">
                      Profile
                    </button>
                    <button @click="setActiveTab('bookings')" class="w-full text-left px-4 py-2 rounded-md" :class="activeTab === 'bookings' ? 'bg-primary-50 text-primary-700' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'">
                      My Bookings
                    </button>
                    <template x-if="user && user.isHost">
                      <button @click="setActiveTab('listings')" class="w-full text-left px-4 py-2 rounded-md" :class="activeTab === 'listings' ? 'bg-primary-50 text-primary-700' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'">
                        My Tee Time Listings
                      </button>
                    </template>
                    <button @click="setActiveTab('reviews')" class="w-full text-left px-4 py-2 rounded-md" :class="activeTab === 'reviews' ? 'bg-primary-50 text-primary-700' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'">
                      Reviews
                    </button>
                  </nav>
                </div>
                
                <!-- Main content -->
                <div class="mt-6 lg:mt-0 lg:col-span-9">
                  <!-- Profile Tab -->
                  <div x-show="activeTab === 'profile'">
                    <div class="flex justify-between items-start">
                      <h2 class="text-2xl font-bold text-gray-900 font-heading">Profile Information</h2>
                      <template x-if="!isEditMode">
                        <button @click="toggleEditMode()" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                          Edit Profile
                        </button>
                      </template>
                      <template x-if="isEditMode">
                        <div class="flex space-x-3">
                          <button @click="toggleEditMode()" class="inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                            Cancel
                          </button>
                          <button @click="saveProfile()" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                            Save Changes
                          </button>
                        </div>
                      </template>
                    </div>
                    
                    <div class="mt-6 border-t border-gray-200 pt-6">
                      <div class="flex items-center">
                        <div class="h-24 w-24 rounded-full overflow-hidden bg-gray-100">
                          <template x-if="!isEditMode">
                            <template x-if="user.profileImage">
                              <img class="h-full w-full object-cover" :src="user.profileImage" alt="Profile">
                            </template>
                            <template x-if="!user.profileImage">
                              <div class="h-full w-full flex items-center justify-center bg-primary-500 text-white text-2xl font-bold">
                                <span x-text="user.firstName ? user.firstName.charAt(0) : (user.email ? user.email.charAt(0).toUpperCase() : 'U')"></span>
                              </div>
                            </template>
                          </template>
                          <template x-if="isEditMode">
                            <img id="profile-image-preview" class="h-full w-full object-cover" :src="user.profileImage || '#'" alt="Profile preview">
                          </template>
                        </div>
                        <div class="ml-5">
                          <h3 class="text-lg leading-6 font-medium text-gray-900" x-text="user.firstName ? `${user.firstName} ${user.lastName || ''}` : user.email"></h3>
                          <p class="text-sm text-gray-500" x-text="user.email"></p>
                          <template x-if="isEditMode">
                            <div class="mt-2">
                              <label for="profile-image" class="inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 cursor-pointer">
                                <span>Change Photo</span>
                                <input id="profile-image" type="file" accept="image/*" @change="handleProfileImageChange" class="sr-only">
                              </label>
                            </div>
                          </template>
                        </div>
                      </div>
                      
                      <div class="mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
                        <template x-if="!isEditMode">
                          <div class="sm:col-span-3">
                            <dt class="text-sm font-medium text-gray-500">First name</dt>
                            <dd class="mt-1 text-sm text-gray-900" x-text="user.firstName || 'Not provided'"></dd>
                          </div>
                        </template>
                        <template x-if="isEditMode">
                          <div class="sm:col-span-3">
                            <label for="first-name" class="block text-sm font-medium text-gray-700">First name</label>
                            <div class="mt-1">
                              <input type="text" id="first-name" x-model="profileForm.firstName" class="shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md">
                            </div>
                          </div>
                        </template>
                        
                        <template x-if="!isEditMode">
                          <div class="sm:col-span-3">
                            <dt class="text-sm font-medium text-gray-500">Last name</dt>
                            <dd class="mt-1 text-sm text-gray-900" x-text="user.lastName || 'Not provided'"></dd>
                          </div>
                        </template>
                        <template x-if="isEditMode">
                          <div class="sm:col-span-3">
                            <label for="last-name" class="block text-sm font-medium text-gray-700">Last name</label>
                            <div class="mt-1">
                              <input type="text" id="last-name" x-model="profileForm.lastName" class="shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md">
                            </div>
                          </div>
                        </template>
                        
                        <template x-if="!isEditMode">
                          <div class="sm:col-span-6">
                            <dt class="text-sm font-medium text-gray-500">Bio</dt>
                            <dd class="mt-1 text-sm text-gray-900" x-text="user.bio || 'No bio provided'"></dd>
                          </div>
                        </template>
                        <template x-if="isEditMode">
                          <div class="sm:col-span-6">
                            <label for="bio" class="block text-sm font-medium text-gray-700">Bio</label>
                            <div class="mt-1">
                              <textarea id="bio" x-model="profileForm.bio" rows="3" class="shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md"></textarea>
                            </div>
                            <p class="mt-2 text-sm text-gray-500">Write a few sentences about yourself.</p>
                          </div>
                        </template>
                        
                        <template x-if="!isEditMode">
                          <div class="sm:col-span-6">
                            <dt class="text-sm font-medium text-gray-500">Host status</dt>
                            <dd class="mt-1 text-sm text-gray-900" x-text="user.isHost ? 'You are a host' : 'You are not a host'"></dd>
                          </div>
                        </template>
                        <template x-if="isEditMode">
                          <div class="sm:col-span-6">
                            <div class="relative flex items-start">
                              <div class="flex items-center h-5">
                                <input id="host-status" type="checkbox" x-model="profileForm.isHost" class="focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded">
                              </div>
                              <div class="ml-3 text-sm">
                                <label for="host-status" class="font-medium text-gray-700">Register as a host</label>
                                <p class="text-gray-500">Enable this to list your tee times and earn money.</p>
                              </div>
                            </div>
                          </div>
                        </template>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Bookings Tab -->
                  <div x-show="activeTab === 'bookings'">
                    <h2 class="text-2xl font-bold text-gray-900 font-heading">My Bookings</h2>
                    
                    <!-- Loading state -->
                    <div x-show="isLoadingBookings" class="flex justify-center mt-6">
                      <div class="spinner"></div>
                    </div>
                    
                    <!-- Empty state -->
                    <div x-show="!isLoadingBookings && bookings.length === 0" class="text-center py-12">
                      <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                      </svg>
                      <h3 class="mt-2 text-sm font-medium text-gray-900">No bookings</h3>
                      <p class="mt-1 text-sm text-gray-500">You haven't made any bookings yet.</p>
                      <div class="mt-6">
                        <a href="/tee-times" class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                          Browse Tee Times
                        </a>
                      </div>
                    </div>
                    
                    <!-- Bookings list -->
                    <div x-show="!isLoadingBookings && bookings.length > 0" class="mt-6">
                      <div class="overflow-hidden sm:rounded-md">
                        <ul class="divide-y divide-gray-200">
                          <template x-for="booking in bookings" :key="booking._id">
                            <li>
                              <div class="px-4 py-4 sm:px-6 hover:bg-gray-50">
                                <div class="flex items-center justify-between">
                                  <div class="flex items-center">
                                    <div class="avatar avatar-md mr-4">
                                      <img class="h-full w-full rounded-full object-cover" :src="booking.club?.imageUrl || '/images/default-club.jpg'" alt="Club">
                                    </div>
                                    <div>
                                      <p class="text-sm font-medium text-primary-600" x-text="booking.teeTime?.club?.name || 'Golf Club'"></p>
                                      <p class="text-sm text-gray-500" x-text="booking.teeTime?.club?.location || 'Location'"></p>
                                    </div>
                                  </div>
                                  <div>
                                    <span class="badge" :class="getStatusBadgeClass(booking.status)" x-text="booking.status"></span>
                                  </div>
                                </div>
                                <div class="mt-2 sm:flex sm:justify-between">
                                  <div class="sm:flex">
                                    <p class="flex items-center text-sm text-gray-500">
                                      <svg class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                      </svg>
                                      <span x-text="formatDate(booking.teeTime?.date) + ' at ' + formatTime(booking.teeTime?.date)"></span>
                                    </p>
                                    <p class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6">
                                      <svg class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                                      </svg>
                                      <span x-text="booking.numberOfPlayers + ' players'"></span>
                                    </p>
                                  </div>
                                  <div class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0">
                                    <p class="text-primary-600 font-medium">$<span x-text="booking.totalPrice"></span></p>
                                  </div>
                                </div>
                              </div>
                            </li>
                          </template>
                        </ul>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Listings Tab (for hosts) -->
                  <div x-show="activeTab === 'listings' && user && user.isHost">
                    <div class="flex justify-between items-start">
                      <h2 class="text-2xl font-bold text-gray-900 font-heading">My Tee Time Listings</h2>
                      <a href="/create-listing" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                        Create New Listing
                      </a>
                    </div>
                    
                    <!-- Loading state -->
                    <div x-show="isLoadingListings" class="flex justify-center mt-6">
                      <div class="spinner"></div>
                    </div>
                    
                    <!-- Empty state -->
                    <div x-show="!isLoadingListings && listings.length === 0" class="text-center py-12">
                      <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                      </svg>
                      <h3 class="mt-2 text-sm font-medium text-gray-900">No listings</h3>
                      <p class="mt-1 text-sm text-gray-500">Get started by creating a new tee time listing.</p>
                      <div class="mt-6">
                        <a href="/create-listing" class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                          Create New Listing
                        </a>
                      </div>
                    </div>
                    
                    <!-- Listings grid -->
                    <div x-show="!isLoadingListings && listings.length > 0" class="mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3">
                      <template x-for="listing in listings" :key="listing._id">
                        <div class="relative rounded-lg border border-gray-300 bg-white px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400">
                          <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium text-gray-900" x-text="listing.club?.name || 'Golf Club'"></p>
                            <p class="text-sm text-gray-500" x-text="formatDate(listing.date) + ' at ' + formatTime(listing.date)"></p>
                            <div class="mt-2 flex justify-between items-center">
                              <p class="text-primary-600 font-medium">$<span x-text="listing.price"></span></p>
                              <span class="badge" :class="getStatusBadgeClass(listing.status)" x-text="listing.status"></span>
                            </div>
                          </div>
                        </div>
                      </template>
                    </div>
                  </div>
                  
                  <!-- Reviews Tab -->
                  <div x-show="activeTab === 'reviews'">
                    <h2 class="text-2xl font-bold text-gray-900 font-heading">Reviews</h2>
                    
                    <!-- Loading state -->
                    <div x-show="isLoadingReviews" class="flex justify-center mt-6">
                      <div class="spinner"></div>
                    </div>
                    
                    <!-- Empty state -->
                    <div x-show="!isLoadingReviews && reviews.length === 0" class="text-center py-12">
                      <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                      </svg>
                      <h3 class="mt-2 text-sm font-medium text-gray-900">No reviews yet</h3>
                      <p class="mt-1 text-sm text-gray-500">Host more tee times to get reviews from guests.</p>
                    </div>
                    
                    <!-- Reviews list -->
                    <div x-show="!isLoadingReviews && reviews.length > 0" class="mt-6">
                      <div class="overflow-hidden sm:rounded-md">
                        <ul class="divide-y divide-gray-200">
                          <template x-for="review in reviews" :key="review._id">
                            <li class="px-4 py-4 sm:px-6">
                              <div class="flex items-center">
                                <div class="flex-shrink-0">
                                  <div class="avatar avatar-md">
                                    <template x-if="review.reviewer?.profileImage">
                                      <img class="h-full w-full rounded-full object-cover" :src="review.reviewer.profileImage" alt="Reviewer">
                                    </template>
                                    <template x-if="!review.reviewer?.profileImage">
                                      <div class="h-full w-full rounded-full bg-primary-500 flex items-center justify-center text-white font-medium">
                                        <span x-text="review.reviewer?.firstName ? review.reviewer.firstName.charAt(0) : 'G'"></span>
                                      </div>
                                    </template>
                                  </div>
                                </div>
                                <div class="ml-4">
                                  <h4 class="text-sm font-medium text-gray-900" x-text="review.reviewer?.firstName ? `${review.reviewer.firstName} ${review.reviewer.lastName || ''}` : 'Guest'"></h4>
                                  <div class="mt-1 flex items-center">
                                    <div class="star-rating">
                                      <template x-for="i in 5" :key="i">
                                        <svg class="h-5 w-5" :class="i <= review.rating ? 'text-yellow-400' : 'text-gray-300'" fill="currentColor" viewBox="0 0 20 20">
                                          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                        </svg>
                                      </template>
                                    </div>
                                    <span class="ml-2 text-sm text-gray-500" x-text="formatDate(review.createdAt)"></span>
                                  </div>
                                </div>
                              </div>
                              <div class="mt-2 text-sm text-gray-700" x-text="review.comment || 'No comment provided'"></div>
                            </li>
                          </template>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Tee Times Page -->
      <div x-show="currentRoute === '/tee-times'" x-data="teeTimesPage" data-route="/tee-times">
        <div class="bg-white">
          <div class="max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8">
            <div class="text-center">
              <h1 class="text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl font-heading">Find your perfect tee time</h1>
              <p class="max-w-xl mt-5 mx-auto text-xl text-gray-500">Browse available tee times from club members across the country</p>
            </div>
            
            <!-- Search and Filters -->
            <div class="mt-12 max-w-lg mx-auto grid gap-5 lg:grid-cols-3 lg:max-w-none">
              <div class="col-span-3 bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                <div class="grid grid-cols-1 gap-4 sm:grid-cols-3">
                  <div>
                    <label for="location" class="block text-sm font-medium text-gray-700">Location</label>
                    <div class="mt-1">
                      <input type="text" x-model="filters.location" id="location" class="shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md" placeholder="City, state, or club name">
                    </div>
                  </div>
                  
                  <div>
                    <label for="date" class="block text-sm font-medium text-gray-700">Date</label>
                    <div class="mt-1">
                      <input type="date" x-model="filters.date" id="date" class="shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md">
                    </div>
                  </div>
                  
                  <div>
                    <label for="players" class="block text-sm font-medium text-gray-700">Number of Players</label>
                    <div class="mt-1">
                      <select x-model="filters.players" id="players" class="shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md">
                        <option value="">Any</option>
                        <option value="1">1 player</option>
                        <option value="2">2 players</option>
                        <option value="3">3 players</option>
                        <option value="4">4 players</option>
                      </select>
                    </div>
                  </div>
                </div>
                
                <div class="grid grid-cols-1 gap-4 sm:grid-cols-3 mt-4">
                  <div>
                    <label for="minPrice" class="block text-sm font-medium text-gray-700">Min Price</label>
                    <div class="mt-1">
                      <input type="number" x-model="filters.minPrice" id="minPrice" class="shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md" placeholder="$">
                    </div>
                  </div>
                  
                  <div>
                    <label for="maxPrice" class="block text-sm font-medium text-gray-700">Max Price</label>
                    <div class="mt-1">
                      <input type="number" x-model="filters.maxPrice" id="maxPrice" class="shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md" placeholder="$">
                    </div>
                  </div>
                  
                  <div>
                    <label for="sort" class="block text-sm font-medium text-gray-700">Sort By</label>
                    <div class="mt-1">
                      <select x-model="sortOption" id="sort" class="shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md">
                        <option value="relevance">Most Relevant</option>
                        <option value="price-low">Price (Low to High)</option>
                        <option value="price-high">Price (High to Low)</option>
                        <option value="date">Date (Soonest)</option>
                      </select>
                    </div>
                  </div>
                </div>
                
                <div class="mt-4 flex space-x-3">
                  <button @click="fetchTeeTimeListings()" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                    Search
                  </button>
                  <button @click="resetFilters()" class="inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                    Reset Filters
                  </button>
                </div>
              </div>
            </div>
            
            <!-- Results -->
            <div class="mt-12">
              <!-- Loading state -->
              <div x-show="isLoading" class="flex justify-center">
                <div class="spinner"></div>
              </div>
              
              <!-- Error state -->
              <div x-show="hasError" class="alert alert-error">
                <p x-text="errorMessage || 'Failed to load tee time listings'"></p>
                <button @click="fetchTeeTimeListings()" class="mt-2 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                  Try Again
                </button>
              </div>
              
              <!-- Empty state -->
              <div x-show="!isLoading && !hasError && filteredListings.length === 0" class="text-center py-12">
                <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <h3 class="mt-2 text-sm font-medium text-gray-900">No tee times found</h3>
                <p class="mt-1 text-sm text-gray-500">Try adjusting your search filters or try a different location.</p>
              </div>
              
              <!-- Results grid -->
              <div x-show="!isLoading && !hasError && filteredListings.length > 0" class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
                <template x-for="listing in filteredListings" :key="listing._id">
                  <div class="bg-white overflow-hidden shadow rounded-lg card-hover">
                    <div class="relative pb-2/3">
                      <img class="absolute h-full w-full object-cover" :src="listing.club?.imageUrl || '/images/default-club.jpg'" alt="Golf club">
                      <div class="absolute top-2 right-2">
                        <span class="badge" :class="getStatusBadgeClass(listing.status)" x-text="listing.status"></span>
                      </div>
                    </div>
                    <div class="px-4 py-5 sm:p-6">
                      <h3 class="text-lg leading-6 font-medium text-gray-900" x-text="listing.club?.name || 'Golf Club'"></h3>
                      <p class="mt-1 text-sm text-gray-500" x-text="listing.club?.location || 'Location'"></p>
                      <p class="mt-3 text-sm text-gray-500">
                        <span x-text="formatDate(listing.date)"></span> at 
                        <span x-text="formatTime(listing.date)"></span>
                      </p>
                      <div class="mt-4 flex items-center justify-between">
                        <span class="text-primary-600 font-medium">$<span x-text="listing.price"></span></span>
                        <div class="flex items-center">
                          <svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                          </svg>
                          <span class="ml-1 text-sm text-gray-500">
                            <span x-text="listing.hostRating ? listing.hostRating.toFixed(1) : '0.0'"></span> 
                            (<span x-text="listing.reviewCount || 0"></span>)
                          </span>
                        </div>
                      </div>
                      <div class="mt-3 flex items-center text-sm">
                        <div class="avatar avatar-sm mr-2">
                          <template x-if="listing.host?.profileImage">
                            <img class="h-full w-full rounded-full object-cover" :src="listing.host.profileImage" alt="Host">
                          </template>
                          <template x-if="!listing.host?.profileImage">
                            <div class="h-full w-full rounded-full bg-primary-500 flex items-center justify-center text-white text-xs font-medium">
                              <span x-text="listing.host?.firstName ? listing.host.firstName.charAt(0) : 'H'"></span>
                            </div>
                          </template>
                        </div>
                        <span class="text-gray-500" x-text="listing.host?.firstName ? `Hosted by ${listing.host.firstName} ${listing.host.lastName || ''}` : 'Hosted by a member'"></span>
                      </div>
                      <div class="mt-5">
                        <a :href="'/tee-times/' + listing._id" class="block w-full text-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700">
                          View Details
                        </a>
                      </div>
                    </div>
                  </div>
                </template>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Other pages will be added here dynamically using JavaScript -->
    </main>
    
    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200">
      <div class="max-w-7xl mx-auto py-12 px-4 overflow-hidden sm:px-6 lg:px-8">
        <nav class="-mx-5 -my-2 flex flex-wrap justify-center" aria-label="Footer">
          <div class="px-5 py-2">
            <a href="/about" class="text-base text-gray-500 hover:text-gray-900">About</a>
          </div>
          
          <div class="px-5 py-2">
            <a href="/contact" class="text-base text-gray-500 hover:text-gray-900">Contact</a>
          </div>
          
          <div class="px-5 py-2">
            <a href="/press" class="text-base text-gray-500 hover:text-gray-900">Press</a>
          </div>
          
          <div class="px-5 py-2">
            <a href="/privacy-policy" class="text-base text-gray-500 hover:text-gray-900">Privacy</a>
          </div>
          
          <div class="px-5 py-2">
            <a href="/terms-of-service" class="text-base text-gray-500 hover:text-gray-900">Terms</a>
          </div>
        </nav>
        <div class="mt-8 flex justify-center space-x-6">
          <a href="#" class="text-gray-400 hover:text-gray-500">
            <span class="sr-only">Facebook</span>
            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" />
            </svg>
          </a>
          
          <a href="#" class="text-gray-400 hover:text-gray-500">
            <span class="sr-only">Instagram</span>
            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z" clip-rule="evenodd" />
            </svg>
          </a>
          
          <a href="#" class="text-gray-400 hover:text-gray-500">
            <span class="sr-only">Twitter</span>
            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" />
            </svg>
          </a>
        </div>
        <p class="mt-8 text-center text-base text-gray-400">
          &copy; 2025 Linx, Inc. All rights reserved.
        </p>
      </div>
    </footer>
  </div>
  
  <!-- Firebase Config Script -->
  <script>
    // Initialize Firebase with environment variables injected by the server
    firebase.initializeApp({
      apiKey: '{{FIREBASE_API_KEY}}',
      authDomain: '{{FIREBASE_AUTH_DOMAIN}}',
      projectId: '{{FIREBASE_PROJECT_ID}}',
      storageBucket: '{{FIREBASE_STORAGE_BUCKET}}',
      messagingSenderId: '{{FIREBASE_MESSAGING_SENDER_ID}}',
      appId: '{{FIREBASE_APP_ID}}'
    });
    
    // Initialize Firebase Auth
    const auth = firebase.auth();
  </script>
  
  <!-- Custom JS Components -->
  <script src="/js/tee-times.js"></script>
  <script src="/js/profile.js"></script>
  
  <!-- Alpine.js App Script -->
  <script>
    // Main application state
    document.addEventListener('alpine:init', () => {
      Alpine.data('app', () => ({
        user: null,
        loading: false,
        userMenuOpen: false,
        mobileMenuOpen: false,
        authModalOpen: false,
        authMode: 'login', // 'login' or 'register'
        authError: null,
        currentRoute: window.location.pathname,
        
        loginForm: {
          email: '',
          password: ''
        },
        
        registerForm: {
          firstName: '',
          lastName: '',
          email: '',
          password: '',
          confirmPassword: ''
        },
        
        // Lifecycle methods
        init() {
          this.setupRouting();
          this.setupAuthStateListener();
        },
        
        // Routing
        setupRouting() {
          window.addEventListener('popstate', () => {
            this.currentRoute = window.location.pathname;
            this.loadPageContent();
          });
          
          // Set up click handling for internal links
          document.addEventListener('click', (event) => {
            const link = event.target.closest('a');
            if (link && link.href.startsWith(window.location.origin) && !link.dataset.external) {
              event.preventDefault();
              const url = new URL(link.href);
              this.navigateTo(url.pathname);
            }
          });
          
          this.loadPageContent();
        },
        
        navigateTo(path) {
          if (path === this.currentRoute) return;
          window.history.pushState({}, '', path);
          this.currentRoute = path;
          this.loadPageContent();
        },
        
        async loadPageContent() {
          // This method would fetch and render the appropriate page content
          // based on the current route
          const appContent = document.getElementById('app-content');
          
          // In a more complex app, you would fetch the content from the server
          // or load a template from a predefined set
          if (this.currentRoute === '/tee-times') {
            // Fetch and render tee times page
            this.fetchTeeTimeListings();
          } else if (this.currentRoute === '/profile') {
            // Render profile page if authenticated
            if (!this.user) {
              this.navigateTo('/');
              this.openAuthModal('login');
              return;
            }
            // Fetch and render profile page
          }
          
          // Hide all sections and show the current one
          Array.from(appContent.children).forEach(child => {
            if (child.dataset.route === this.currentRoute) {
              child.style.display = 'block';
            } else {
              child.style.display = 'none';
            }
          });
        },
        
        // Authentication
        setupAuthStateListener() {
          auth.onAuthStateChanged(async (firebaseUser) => {
            this.loading = true;
            
            if (firebaseUser) {
              try {
                // Get the Firebase ID token
                const idToken = await firebaseUser.getIdToken();
                
                // Fetch user profile from our API
                const response = await fetch('/api/auth/me', {
                  headers: {
                    'Authorization': `Bearer ${idToken}`
                  }
                });
                
                if (response.ok) {
                  this.user = await response.json();
                } else {
                  console.error('Failed to fetch user profile');
                  this.user = null;
                }
              } catch (error) {
                console.error('Error fetching user profile:', error);
                this.user = null;
              }
            } else {
              this.user = null;
            }
            
            this.loading = false;
          });
        },
        
        openAuthModal(mode) {
          this.authMode = mode;
          this.authError = null;
          this.authModalOpen = true;
        },
        
        toggleAuthMode() {
          this.authMode = this.authMode === 'login' ? 'register' : 'login';
          this.authError = null;
        },
        
        async login() {
          this.authError = null;
          this.loading = true;
          
          try {
            // Validate form
            if (!this.loginForm.email || !this.loginForm.password) {
              this.authError = 'Please enter your email and password';
              this.loading = false;
              return;
            }
            
            // Sign in with Firebase
            await auth.signInWithEmailAndPassword(
              this.loginForm.email,
              this.loginForm.password
            );
            
            // Close modal on success
            this.authModalOpen = false;
            this.loginForm = { email: '', password: '' };
          } catch (error) {
            console.error('Login error:', error);
            this.authError = error.message;
          } finally {
            this.loading = false;
          }
        },
        
        async register() {
          this.authError = null;
          this.loading = true;
          
          try {
            // Validate form
            if (!this.registerForm.email || !this.registerForm.password) {
              this.authError = 'Please enter your email and password';
              this.loading = false;
              return;
            }
            
            if (this.registerForm.password !== this.registerForm.confirmPassword) {
              this.authError = 'Passwords do not match';
              this.loading = false;
              return;
            }
            
            // Create user with Firebase
            const userCredential = await auth.createUserWithEmailAndPassword(
              this.registerForm.email,
              this.registerForm.password
            );
            
            // Update user profile
            await userCredential.user.updateProfile({
              displayName: `${this.registerForm.firstName} ${this.registerForm.lastName}`.trim()
            });
            
            // Close modal on success
            this.authModalOpen = false;
            this.registerForm = { firstName: '', lastName: '', email: '', password: '', confirmPassword: '' };
          } catch (error) {
            console.error('Registration error:', error);
            this.authError = error.message;
          } finally {
            this.loading = false;
          }
        },
        
        async signInWithGoogle() {
          this.authError = null;
          this.loading = true;
          
          try {
            const provider = new firebase.auth.GoogleAuthProvider();
            await auth.signInWithPopup(provider);
            
            // Close modal on success
            this.authModalOpen = false;
          } catch (error) {
            console.error('Google sign-in error:', error);
            this.authError = error.message;
          } finally {
            this.loading = false;
          }
        },
        
        async logout() {
          try {
            await auth.signOut();
            this.userMenuOpen = false;
          } catch (error) {
            console.error('Logout error:', error);
          }
        },
        
        // Content fetching methods
        async fetchFeaturedTeeTimeListings() {
          try {
            const response = await fetch('/api/tee-times?featured=true');
            if (!response.ok) throw new Error('Failed to fetch featured tee times');
            
            this.featuredTeeTimeListings = await response.json();
          } catch (error) {
            console.error('Error fetching featured tee times:', error);
            this.featuredTeeTimeListings = [];
          }
        },
        
        async fetchTeeTimeListings() {
          try {
            const response = await fetch('/api/tee-times');
            if (!response.ok) throw new Error('Failed to fetch tee times');
            
            this.teeTimeListings = await response.json();
          } catch (error) {
            console.error('Error fetching tee times:', error);
            this.teeTimeListings = [];
          }
        }
      }));
    });
  </script>
</body>
</html>